{"toolset_descriptions":"# Financial Planning Tools - Category Summaries\n\n## Basic Math and Aggregation\n\n**Core Functions:** SUM, AVERAGE, MIN, MAX, PRODUCT, MEDIAN, MODE, PERCENTILE, POWER, SQRT, EXP, LN, LOG, ABS, SIGN, MOD, ROUND, ROUNDUP, ROUNDDOWN, WEIGHTED_AVERAGE, GEOMETRIC_MEAN, HARMONIC_MEAN, CUMSUM, CUMPROD, VARIANCE_WEIGHTED\n\n**Primary Use Cases:**\n* Calculate fundamental financial totals, averages, and statistical measures for revenue, expenses, and cash flows\n* Perform mathematical transformations for compound growth, volatility calculations, and risk modeling\n* Aggregate financial metrics across periods, categories, or business segments\n* Execute precision calculations for accounting, budgeting, and financial reporting requirements\n\n**Best For:** Tasks requiring basic mathematical calculations on financial datasets, statistical analysis of performance metrics, or fundamental aggregation operations with decimal precision.\n\n**Keywords:** total, sum, average, maximum, minimum, aggregate, calculate, mathematical, statistical, compound growth, volatility, precision\n\n## Conditional Aggregation and Counting\n\n**Core Functions:** COUNTIF, COUNTIFS, SUMIF, SUMIFS, AVERAGEIF, AVERAGEIFS, MAXIFS, MINIFS, SUMPRODUCT, COUNTBLANK, COUNTA, AGGREGATE, SUBTOTAL\n\n**Primary Use Cases:**\n* Perform filtered calculations based on specific business criteria and conditions\n* Calculate portfolio values, revenue by segment, and conditional financial metrics\n* Analyze data completeness and quality for regulatory reporting requirements\n* Execute multi-dimensional aggregations with complex filtering logic\n\n**Best For:** Financial analysis requiring conditional logic, filtered aggregations, or calculations based on specific business rules and criteria.\n\n**Keywords:** conditional, filtered, criteria-based, segment analysis, portfolio calculations, business rules, multi-dimensional, data quality\n\n## Date and Time Functions\n\n**Core Functions:** TODAY, NOW, DATE, YEAR, MONTH, DAY, EDATE, EOMONTH, DATEDIF, YEARFRAC, WORKDAY, NETWORKDAYS, DATE_RANGE, WEEKDAY, QUARTER, TIME, HOUR, MINUTE, SECOND\n\n**Primary Use Cases:**\n* Calculate interest accrual periods, maturity dates, and financial instrument timing\n* Generate reporting schedules and financial model timelines\n* Determine business day calculations for SLA tracking and payment processing\n* Extract time components for seasonal analysis and trend identification\n\n**Best For:** Financial calculations involving time periods, interest calculations, business day computations, and creating time-based financial models.\n\n**Keywords:** date calculations, maturity dates, business days, quarters, interest periods, timeline, schedule, working days\n\n## Logical and Error Handling Functions\n\n**Core Functions:** IF, IFS, AND, OR, NOT, XOR, IFERROR, IFNA, ISERROR, ISBLANK, ISNUMBER, ISTEXT, SWITCH\n\n**Primary Use Cases:**\n* Implement conditional business logic for credit approval, budget variance analysis, and performance evaluation\n* Create multi-tier decision trees for commission calculations, risk assessment, and approval workflows\n* Handle missing data and calculation errors gracefully in financial models\n* Validate data completeness and types for quality assurance in financial reporting\n\n**Best For:** Decision-making logic, data validation, error handling, and conditional calculations in financial analysis.\n\n**Keywords:** if, condition, logic, decision, validation, error, approval, criteria, rules, compliance\n\n## Lookup and Reference Functions\n\n**Core Functions:** VLOOKUP, HLOOKUP, INDEX, MATCH, XLOOKUP, LOOKUP, CHOOSE, OFFSET, INDIRECT, ADDRESS, ROW, COLUMN, ROWS, COLUMNS\n\n**Primary Use Cases:**\n* Retrieve employee salaries, product prices, and customer information from reference tables\n* Create dynamic references for flexible financial modeling and analysis\n* Build sophisticated lookup systems with wildcard matching and custom fallback values\n* Extract specific data points from large financial datasets using position-based retrieval\n\n**Best For:** Data retrieval operations, reference table lookups, and dynamic data extraction in financial analysis.\n\n**Keywords:** lookup, find, search, retrieve, reference, table, index, match, extract, position\n\n## User Interaction Functions\n\n**Core Functions:** USER_INTERACTION\n\n**Primary Use Cases:**\n* Facilitate interactive communication between the agent and user for clarification requests\n* Gather additional requirements or preferences during financial analysis workflows\n* Enable dynamic decision-making based on user input and feedback\n* Support collaborative analysis where human expertise is needed for context or validation\n\n**Best For:** Interactive analysis scenarios requiring user input, clarification requests, or collaborative decision-making in financial planning processes.\n\n**Keywords:** interaction, user input, clarification, collaboration, feedback, dynamic, communication, validation\n\n## File Management Functions\n\n**Core Functions:** LIST_DATA_FILES, LIST_ANALYSIS_FILES, DESCRIBE_DF\n\n**Primary Use Cases:**\n* Discover and catalog available financial datasets and analysis files in the workspace\n* Provide detailed descriptions and metadata about dataframe structure and content\n* Enable efficient file navigation and data source identification for analysis workflows\n* Support data discovery and exploration for comprehensive financial analysis\n\n**Best For:** Data discovery, file management, dataset exploration, and understanding available data sources for financial analysis.\n\n**Keywords:** files, datasets, data discovery, workspace, metadata, exploration, catalog, structure, navigation\n","plan":{"plan_id":"a1e7b3d2-d817-4d8c-959a-a3fb0d218ec0","task":"Calculate customer LTV for customer from Jan 2023 to Dec 2023 by subscription types, subscription & plan types, subscription & customer industry and subscription and acquisition channel.","task_result_name":"customer_ltv_analysis","steps":{"1":{"step_number":1,"description":"Ask the user to clarify the data files, column names, LTV formula components, period definitions, and profit margin/CAC details.","instructions":"Could you please provide the CSV file names and the relevant column names for customer ID, initial subscription type, initial plan type, customer industry, acquisition channel, revenue/profit data, and subscription start/end dates?\nYou mentioned \"Profit per User should only include profit generated from Jan 2023 to Dec 2023 from users who ordered during those dates.\" Is \"Average Revenue per User\" in the LTV formula actually referring to \"Average Profit per User\"?\nFor the churn rate formula, you stated: \"# of customers at the beginning of the period / # of churned customers during time period\". This seems inverted. Did you mean \"# of churned customers during time period / # of customers at the beginning of the period\"?\nRegarding \"Customers at the start of the period should only be customers who have active subscriptions in Jan 2023.\" Does \"in Jan 2023\" mean active on January 1, 2023, or active at any point during January 2023?\nDo you have a profit margin percentage to apply, or should I assume a default value for the LTV calculation?\nIs the CAC data available in one of the provided files, and if so, what are the relevant column names for CAC and acquisition channel?","toolset_name":"user_interaction","resultant_artifact_name":"clarification_questions","dependant_artifact_names":[]}},"can_execute":true,"executed":false},"mode":"plan","artifacts":{"a1e7b3d2-d817-4d8c-959a-a3fb0d218ec0":{}},"current_step":1,"dirs":{"thread_dir":"/Users/hamza/dev/finn2/workspaces/session/threads/1","workspace_dir":"workspaces/session","analysis_dir":"/Users/hamza/dev/finn2/workspaces/session/threads/1/analysis","results_dir":"/Users/hamza/dev/finn2/workspaces/session/threads/1/results","data_dir":"workspaces/session/data"}}